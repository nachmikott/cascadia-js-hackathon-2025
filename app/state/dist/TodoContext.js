/*
 * This file includes functions generated by gpt-5 (OpenAI) with human edits/updates.
 * Reviewer: Nachmi Kott - Approved.
 */
'use client';
"use strict";
exports.__esModule = true;
exports.useTodoContext = exports.TodoProvider = void 0;
var react_1 = require("react");
var reducer_1 = require("./todo/reducer");
var TodoActions = require("./todo/actions");
var TodoContext = react_1.createContext(null);
exports.TodoProvider = function (_a) {
    var children = _a.children;
    var _b = react_1.useReducer(reducer_1.todoReducer, reducer_1.initialTodoState), items = _b[0], dispatch = _b[1];
    var value = react_1.useMemo(function () { return ({
        items: items,
        addMany: function (titles) { return dispatch(TodoActions.addMany(titles)); },
        markByTitle: function (title, done) { return dispatch(TodoActions.markByTitle(title, done)); },
        renameByTitle: function (oldTitle, newTitle) { return dispatch(TodoActions.renameByTitle(oldTitle, newTitle)); },
        removeByTitle: function (title) { return dispatch(TodoActions.removeByTitle(title)); },
        setAll: function (next) { return dispatch(TodoActions.setAll(next)); }
    }); }, [items]);
    return React.createElement(TodoContext.Provider, { value: value }, children);
};
exports.useTodoContext = function () {
    var v = react_1.useContext(TodoContext);
    if (!v)
        throw new Error('useTodos must be used within TodoProvider');
    return v;
};
